{"remainingRequest":"/home/dheeraj/Desktop/chess/vue-co/node_modules/babel-loader/lib/index.js!/home/dheeraj/Desktop/chess/vue-co/node_modules/eslint-loader/index.js??ref--13-0!/home/dheeraj/Desktop/chess/vue-co/chessoko/filters.js","dependencies":[{"path":"/home/dheeraj/Desktop/chess/vue-co/chessoko/filters.js","mtime":1629236484449},{"path":"/home/dheeraj/Desktop/chess/vue-co/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dheeraj/Desktop/chess/vue-co/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dheeraj/Desktop/chess/vue-co/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy9UaGVzZSBhcmUgYSBzZXQgb2YgY3VzdG9tIGZpbHRlcnMgd3JpdHRlbiBmb3IgY2hlc3MgcGljZSByZWNvZ25pdGlvbiBwdXJwb3NlICAKLy8tIFRob3VnaCB0aGUgbmFtZXMgYXJlIGdlbmVyaWMgLSBjb2RlIGluc2lkZSBmaWx0ZXJzIGhhcyBiZWVuIG1vZGlmaWVkIHRvIGZpdCBzcGVjaWZpYyBuZWVkCnZhciBGaWx0ZXJzID0ge307CgpGaWx0ZXJzLmdldFBpeGVscyA9IGZ1bmN0aW9uIChpbWcpIHsKICB2YXIgYyA9IHRoaXMuZ2V0Q2FudmFzKGltZy53aWR0aCwgaW1nLmhlaWdodCk7CiAgdmFyIGN0eCA9IGMuZ2V0Q29udGV4dCgnMmQnKTsKICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7CiAgcmV0dXJuIGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgYy53aWR0aCwgYy5oZWlnaHQpOwp9OwoKRmlsdGVycy5nZXRDYW52YXMgPSBmdW5jdGlvbiAodywgaCkgewogIHZhciBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgYy53aWR0aCA9IHc7CiAgYy5oZWlnaHQgPSBoOwogIHJldHVybiBjOwp9OwoKRmlsdGVycy5maWx0ZXJJbWFnZSA9IGZ1bmN0aW9uIChmaWx0ZXIsIGltYWdlLCB2YXJfYXJncykgewogIC8vIGNvbnNvbGUubG9nKGltYWdlKTsKICB2YXIgYXJncyA9IFt0aGlzLmdldFBpeGVscyhpbWFnZSldOwoKICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7CiAgfQoKICByZXR1cm4gdGhpcy5pbWFnZURhdGFUb0ltYWdlKGZpbHRlci5hcHBseShudWxsLCBhcmdzKSk7Cn07CgpGaWx0ZXJzLmltYWdlRGF0YVRvSW1hZ2UgPSBmdW5jdGlvbiAoaWRhdGEpIHsKICB2YXIgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkNBTlZBUyIpOwogIGMud2lkdGggPSBpZGF0YS53aWR0aDsKICBjLmhlaWdodCA9IGlkYXRhLmhlaWdodDsKICB2YXIgY3R4ID0gYy5nZXRDb250ZXh0KCcyZCcpOwogIGN0eC5wdXRJbWFnZURhdGEoaWRhdGEsIDAsIDApOwogIHJldHVybiBjLnRvRGF0YVVSTCgpOwp9OwoKRmlsdGVycy50aHJlc2hvbGQgPSBmdW5jdGlvbiAocGl4ZWxzLCB0aHJlc2hvbGQpIHsKICB2YXIgZCA9IHBpeGVscy5kYXRhOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGQubGVuZ3RoOyBpICs9IDQpIHsKICAgIHZhciByID0gZFtpXTsKICAgIHZhciBnID0gZFtpICsgMV07CiAgICB2YXIgYiA9IGRbaSArIDJdOwogICAgdmFyIGEgPSBkW2kgKyAzXTsgLy8gY29uc29sZS5sb2coYSk7CgogICAgdmFyIHYgPSAwOyAvLyBpZihhID4gMjQwKSB7IC8vVGhpcyBpcyBjdXN0b20gY29uZGl0aW9uIGludHJvZHVjZWQgdG8gcmVtb3ZlIG5vaXNlIAoKICAgIHYgPSAwLjIxMjYgKiByICsgMC43MTUyICogZyArIDAuMDcyMiAqIGIgPj0gdGhyZXNob2xkID8gMjU1IDogMDsgLy8gfQoKICAgIGRbaV0gPSBkW2kgKyAxXSA9IGRbaSArIDJdID0gdjsKICB9CgogIHJldHVybiBwaXhlbHM7Cn07CgpGaWx0ZXJzLmluUmFuZ2UgPSBmdW5jdGlvbiAocGl4ZWxzLCBsb3csIGhpZ2gpIHsKICB2YXIgdGVwID0gMTAwOwogIGNvbnNvbGUubG9nKHRlcC5iZXR3ZWVuKGxvd1sxXSwgaGlnaFsxXSkpOwogIHZhciBkID0gcGl4ZWxzLmRhdGE7CgogIGZvciAodmFyIGkgPSAwOyBpIDwgZC5sZW5ndGg7IGkgKz0gNCkgewogICAgdmFyIHIgPSBkW2ldOwogICAgdmFyIGcgPSBkW2kgKyAxXTsKICAgIHZhciBiID0gZFtpICsgMl07CiAgICB2YXIgYSA9IGRbaSArIDNdOwogICAgdmFyIHYgPSAyNTU7CgogICAgaWYgKHIuYmV0d2Vlbihsb3dbMF0sIGhpZ2hbMF0pICYmIGcuYmV0d2Vlbihsb3dbMV0sIGhpZ2hbMV0pICYmIGIuYmV0d2Vlbihsb3dbMl0sIGhpZ2hbMl0pICYmIGEgPT0gMjU1KSB7CiAgICAgIHYgPSAwOwogICAgfQoKICAgIGRbaV0gPSBkW2kgKyAxXSA9IGRbaSArIDJdID0gdjsKICB9CgogIHJldHVybiBwaXhlbHM7Cn07CgpGaWx0ZXJzLmdyYXlzY2FsZSA9IGZ1bmN0aW9uIChwaXhlbHMsIGFyZ3MpIHsKICB2YXIgZCA9IHBpeGVscy5kYXRhOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGQubGVuZ3RoOyBpICs9IDQpIHsKICAgIHZhciByID0gZFtpXTsKICAgIHZhciBnID0gZFtpICsgMV07CiAgICB2YXIgYiA9IGRbaSArIDJdOyAvLyBDSUUgbHVtaW5hbmNlIGZvciB0aGUgUkdCCiAgICAvLyBUaGUgaHVtYW4gZXllIGlzIGJhZCBhdCBzZWVpbmcgcmVkIGFuZCBibHVlLCBzbyB3ZSBkZS1lbXBoYXNpemUgdGhlbS4KCiAgICB2YXIgdiA9IDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYjsKICAgIGRbaV0gPSBkW2kgKyAxXSA9IGRbaSArIDJdID0gdjsKICB9CgogIHJldHVybiBwaXhlbHM7Cn07CgpGaWx0ZXJzLmJyaWdodG5lc3MgPSBmdW5jdGlvbiAocGl4ZWxzLCBhZGp1c3RtZW50KSB7CiAgdmFyIGQgPSBwaXhlbHMuZGF0YTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkLmxlbmd0aDsgaSArPSA0KSB7CiAgICBkW2ldICs9IGFkanVzdG1lbnQ7CiAgICBkW2kgKyAxXSArPSBhZGp1c3RtZW50OwogICAgZFtpICsgMl0gKz0gYWRqdXN0bWVudDsKICB9CgogIHJldHVybiBwaXhlbHM7Cn07CgpGaWx0ZXJzLmNvbnRyYXN0ID0gZnVuY3Rpb24gKHBpeGVscywgY29udHJhc3QpIHsKICB2YXIgZCA9IHBpeGVscy5kYXRhOwogIGNvbnRyYXN0ID0gY29udHJhc3QgLyAxMDAgKyAxOyAvL2NvbnZlcnQgdG8gZGVjaW1hbCAmIHNoaWZ0IHJhbmdlOiBbMC4uMl0KCiAgdmFyIGludGVyY2VwdCA9IDEyOCAqICgxIC0gY29udHJhc3QpOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGQubGVuZ3RoOyBpICs9IDQpIHsKICAgIC8vcixnLGIsYQogICAgZFtpXSA9IGRbaV0gKiBjb250cmFzdCArIGludGVyY2VwdDsKICAgIGRbaSArIDFdID0gZFtpICsgMV0gKiBjb250cmFzdCArIGludGVyY2VwdDsKICAgIGRbaSArIDJdID0gZFtpICsgMl0gKiBjb250cmFzdCArIGludGVyY2VwdDsKICB9CgogIHJldHVybiBwaXhlbHM7Cn07CgpGaWx0ZXJzLndoaXRlUGVyY2VudGFnZSA9IGZ1bmN0aW9uIChwaXhlbHMpIHsKICB2YXIgZCA9IHBpeGVscy5kYXRhOwogIHZhciBjID0gMDsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkLmxlbmd0aDsgaSArPSA0KSB7CiAgICB2YXIgciA9IGRbaV07CiAgICB2YXIgZyA9IGRbaSArIDFdOwogICAgdmFyIGIgPSBkW2kgKyAyXTsKCiAgICBpZiAociA9PSAyNTUgJiYgZyA9PSAyNTUgJiYgYiA9PSAyNTUpIHsKICAgICAgYysrOwogICAgfQogIH0KCiAgdmFyIGNQID0gYyAqIDQgLyBkLmxlbmd0aCAqIDEwMDsKICByZXR1cm4gY1A7Cn07CgpGaWx0ZXJzLmJsYWNrUGVyY2VudGFnZSA9IGZ1bmN0aW9uIChwaXhlbHMpIHsKICB2YXIgZCA9IHBpeGVscy5kYXRhOwogIHZhciBjID0gMDsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkLmxlbmd0aDsgaSArPSA0KSB7CiAgICB2YXIgciA9IGRbaV07CiAgICB2YXIgZyA9IGRbaSArIDFdOwogICAgdmFyIGIgPSBkW2kgKyAyXTsKCiAgICBpZiAociA8IDEwICYmIGcgPCAxMCAmJiBiIDwgMTApIHsKICAgICAgYysrOwogICAgfQogIH0KCiAgdmFyIGNQID0gYyAqIDQgLyBkLmxlbmd0aCAqIDEwMDsKICByZXR1cm4gY1A7Cn07CgpGaWx0ZXJzLmVkZ2VEZXRlY3Rpb24gPSBmdW5jdGlvbiAoaW1hZ2UpIHsKICB2YXIgZ3JheXNjYWxlUGl4ZWxEYXRhID0gRmlsdGVycy5nZXRQaXhlbHMoaW1hZ2UpOwogIHZhciBncmF5c2NhbGUgPSBGaWx0ZXJzLmdyYXlzY2FsZShncmF5c2NhbGVQaXhlbERhdGEpOyAvLyBOb3RlIHRoYXQgSW1hZ2VEYXRhIHZhbHVlcyBhcmUgY2xhbXBlZCBiZXR3ZWVuIDAgYW5kIDI1NSwgc28gd2UgbmVlZAogIC8vIHRvIHVzZSBhIEZsb2F0MzJBcnJheSBmb3IgdGhlIGdyYWRpZW50IHZhbHVlcyBiZWNhdXNlIHRoZXkKICAvLyByYW5nZSBiZXR3ZWVuIC0yNTUgYW5kIDI1NS4KCiAgdmFyIHZlcnRpY2FsID0gRmlsdGVycy5jb252b2x1dGUoZ3JheXNjYWxlLCBbLTEsIDAsIDEsIC0yLCAwLCAyLCAtMSwgMCwgMV0pOwogIHZhciBob3Jpem9udGFsID0gRmlsdGVycy5jb252b2x1dGUoZ3JheXNjYWxlLCBbLTEsIC0yLCAtMSwgMCwgMCwgMCwgMSwgMiwgMV0pOwogIHZhciBmaW5hbF9pbWFnZSA9IEZpbHRlcnMuY3JlYXRlSW1hZ2VEYXRhKHZlcnRpY2FsLndpZHRoLCB2ZXJ0aWNhbC5oZWlnaHQpOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbmFsX2ltYWdlLmRhdGEubGVuZ3RoOyBpICs9IDQpIHsKICAgIC8vIG1ha2UgdGhlIHZlcnRpY2FsIGdyYWRpZW50IHJlZAogICAgdmFyIHYgPSBNYXRoLmFicyh2ZXJ0aWNhbC5kYXRhW2ldKTsKICAgIGZpbmFsX2ltYWdlLmRhdGFbaV0gPSB2OyAvLyBtYWtlIHRoZSBob3Jpem9udGFsIGdyYWRpZW50IGdyZWVuCgogICAgdmFyIGggPSBNYXRoLmFicyhob3Jpem9udGFsLmRhdGFbaV0pOwogICAgZmluYWxfaW1hZ2UuZGF0YVtpICsgMV0gPSBoOyAvLyBhbmQgbWl4IGluIHNvbWUgYmx1ZSBmb3IgYWVzdGhldGljcwoKICAgIGZpbmFsX2ltYWdlLmRhdGFbaSArIDJdID0gKHYgKyBoKSAvIDQ7CiAgICBmaW5hbF9pbWFnZS5kYXRhW2kgKyAzXSA9IDI1NTsgLy8gb3BhcXVlIGFscGhhCiAgfQoKICB2YXIgZmluYWxfaW1hZ2UgPSB0aGlzLmluUmFuZ2UoZmluYWxfaW1hZ2UsIFstMSwgLTEsIC0xXSwgWzUwLCA1MCwgNTBdKTsKICByZXR1cm4gdGhpcy5pbWFnZURhdGFUb0ltYWdlKGZpbmFsX2ltYWdlKTsKfTsKCkZpbHRlcnMuc2hhcnBlbiA9IGZ1bmN0aW9uIChpbWFnZSkgewogIHZhciBwaXhlbERhdGEgPSBGaWx0ZXJzLmdldFBpeGVscyhpbWFnZSk7IC8vIHZhciBncmF5c2NhbGUgPSBGaWx0ZXJzLmdyYXlzY2FsZShncmF5c2NhbGVQaXhlbERhdGEpOwogIC8vIE5vdGUgdGhhdCBJbWFnZURhdGEgdmFsdWVzIGFyZSBjbGFtcGVkIGJldHdlZW4gMCBhbmQgMjU1LCBzbyB3ZSBuZWVkCiAgLy8gdG8gdXNlIGEgRmxvYXQzMkFycmF5IGZvciB0aGUgZ3JhZGllbnQgdmFsdWVzIGJlY2F1c2UgdGhleQogIC8vIHJhbmdlIGJldHdlZW4gLTI1NSBhbmQgMjU1LgoKICB2YXIgZmluYWxfaW1hZ2UgPSB0aGlzLmluUmFuZ2UoZmluYWxfaW1hZ2UsIFstMSwgLTEsIC0xXSwgWzUwLCA1MCwgNTBdKTsKICByZXR1cm4gdGhpcy5pbWFnZURhdGFUb0ltYWdlKGZpbmFsX2ltYWdlKTsKfTsKCkZpbHRlcnMudG1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CkZpbHRlcnMudG1wQ3R4ID0gRmlsdGVycy50bXBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKCkZpbHRlcnMuY3JlYXRlSW1hZ2VEYXRhID0gZnVuY3Rpb24gKHcsIGgpIHsKICByZXR1cm4gdGhpcy50bXBDdHguY3JlYXRlSW1hZ2VEYXRhKHcsIGgpOwp9OwoKRmlsdGVycy5jb252b2x1dGUgPSBmdW5jdGlvbiAocGl4ZWxzLCB3ZWlnaHRzLCBvcGFxdWUpIHsKICB2YXIgc2lkZSA9IE1hdGgucm91bmQoTWF0aC5zcXJ0KHdlaWdodHMubGVuZ3RoKSk7CiAgdmFyIGhhbGZTaWRlID0gTWF0aC5mbG9vcihzaWRlIC8gMik7CiAgdmFyIHNyYyA9IHBpeGVscy5kYXRhOwogIHZhciBzdyA9IHBpeGVscy53aWR0aDsKICB2YXIgc2ggPSBwaXhlbHMuaGVpZ2h0OyAvLyBwYWQgb3V0cHV0IGJ5IHRoZSBjb252b2x1dGlvbiBtYXRyaXgKCiAgdmFyIHcgPSBzdzsKICB2YXIgaCA9IHNoOwogIHZhciBvdXRwdXQgPSBGaWx0ZXJzLmNyZWF0ZUltYWdlRGF0YSh3LCBoKTsKICB2YXIgZHN0ID0gb3V0cHV0LmRhdGE7IC8vIGdvIHRocm91Z2ggdGhlIGRlc3RpbmF0aW9uIGltYWdlIHBpeGVscwoKICB2YXIgYWxwaGFGYWMgPSBvcGFxdWUgPyAxIDogMDsKCiAgZm9yICh2YXIgeSA9IDA7IHkgPCBoOyB5KyspIHsKICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrKSB7CiAgICAgIHZhciBzeSA9IHk7CiAgICAgIHZhciBzeCA9IHg7CiAgICAgIHZhciBkc3RPZmYgPSAoeSAqIHcgKyB4KSAqIDQ7IC8vIGNhbGN1bGF0ZSB0aGUgd2VpZ2hlZCBzdW0gb2YgdGhlIHNvdXJjZSBpbWFnZSBwaXhlbHMgdGhhdAogICAgICAvLyBmYWxsIHVuZGVyIHRoZSBjb252b2x1dGlvbiBtYXRyaXgKCiAgICAgIHZhciByID0gMCwKICAgICAgICAgIGcgPSAwLAogICAgICAgICAgYiA9IDAsCiAgICAgICAgICBhID0gMDsKCiAgICAgIGZvciAodmFyIGN5ID0gMDsgY3kgPCBzaWRlOyBjeSsrKSB7CiAgICAgICAgZm9yICh2YXIgY3ggPSAwOyBjeCA8IHNpZGU7IGN4KyspIHsKICAgICAgICAgIHZhciBzY3kgPSBzeSArIGN5IC0gaGFsZlNpZGU7CiAgICAgICAgICB2YXIgc2N4ID0gc3ggKyBjeCAtIGhhbGZTaWRlOwoKICAgICAgICAgIGlmIChzY3kgPj0gMCAmJiBzY3kgPCBzaCAmJiBzY3ggPj0gMCAmJiBzY3ggPCBzdykgewogICAgICAgICAgICB2YXIgc3JjT2ZmID0gKHNjeSAqIHN3ICsgc2N4KSAqIDQ7CiAgICAgICAgICAgIHZhciB3dCA9IHdlaWdodHNbY3kgKiBzaWRlICsgY3hdOwogICAgICAgICAgICByICs9IHNyY1tzcmNPZmZdICogd3Q7CiAgICAgICAgICAgIGcgKz0gc3JjW3NyY09mZiArIDFdICogd3Q7CiAgICAgICAgICAgIGIgKz0gc3JjW3NyY09mZiArIDJdICogd3Q7CiAgICAgICAgICAgIGEgKz0gc3JjW3NyY09mZiArIDNdICogd3Q7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBkc3RbZHN0T2ZmXSA9IHI7CiAgICAgIGRzdFtkc3RPZmYgKyAxXSA9IGc7CiAgICAgIGRzdFtkc3RPZmYgKyAyXSA9IGI7CiAgICAgIGRzdFtkc3RPZmYgKyAzXSA9IGEgKyBhbHBoYUZhYyAqICgyNTUgLSBhKTsKICAgIH0KICB9CgogIHJldHVybiBvdXRwdXQ7Cn07CgpOdW1iZXIucHJvdG90eXBlLmJldHdlZW4gPSBmdW5jdGlvbiAoYSwgYikgewogIHZhciBtaW4gPSBNYXRoLm1pbi5hcHBseShNYXRoLCBbYSwgYl0pLAogICAgICBtYXggPSBNYXRoLm1heC5hcHBseShNYXRoLCBbYSwgYl0pOwogIHJldHVybiB0aGlzID4gbWluICYmIHRoaXMgPCBtYXg7Cn07CgpleHBvcnQgZGVmYXVsdCBGaWx0ZXJzOw=="},{"version":3,"sources":["/home/dheeraj/Desktop/chess/vue-co/chessoko/filters.js"],"names":["Filters","getPixels","img","c","getCanvas","width","height","ctx","getContext","drawImage","getImageData","w","h","document","createElement","filterImage","filter","image","var_args","args","i","arguments","length","push","imageDataToImage","apply","idata","putImageData","toDataURL","threshold","pixels","d","data","r","g","b","a","v","inRange","low","high","tep","console","log","between","grayscale","brightness","adjustment","contrast","intercept","whitePercentage","cP","blackPercentage","edgeDetection","grayscalePixelData","vertical","convolute","horizontal","final_image","createImageData","Math","abs","sharpen","pixelData","tmpCanvas","tmpCtx","weights","opaque","side","round","sqrt","halfSide","floor","src","sw","sh","output","dst","alphaFac","y","x","sy","sx","dstOff","cy","cx","scy","scx","srcOff","wt","Number","prototype","min","max"],"mappings":";AAAA;AACA;AAEA,IAAIA,OAAO,GAAG,EAAd;;AAEAA,OAAO,CAACC,SAAR,GAAoB,UAASC,GAAT,EAAc;AAChC,MAAIC,CAAC,GAAG,KAAKC,SAAL,CAAeF,GAAG,CAACG,KAAnB,EAA0BH,GAAG,CAACI,MAA9B,CAAR;AACA,MAAIC,GAAG,GAAGJ,CAAC,CAACK,UAAF,CAAa,IAAb,CAAV;AACAD,EAAAA,GAAG,CAACE,SAAJ,CAAcP,GAAd,EAAkB,CAAlB,EAAoB,CAApB;AACA,SAAOK,GAAG,CAACG,YAAJ,CAAiB,CAAjB,EAAmB,CAAnB,EAAqBP,CAAC,CAACE,KAAvB,EAA6BF,CAAC,CAACG,MAA/B,CAAP;AACD,CALD;;AAOAN,OAAO,CAACI,SAAR,GAAoB,UAASO,CAAT,EAAWC,CAAX,EAAc;AAChC,MAAIT,CAAC,GAAGU,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAR;AACAX,EAAAA,CAAC,CAACE,KAAF,GAAUM,CAAV;AACAR,EAAAA,CAAC,CAACG,MAAF,GAAWM,CAAX;AACA,SAAOT,CAAP;AACD,CALD;;AAQAH,OAAO,CAACe,WAAR,GAAsB,UAASC,MAAT,EAAiBC,KAAjB,EAAwBC,QAAxB,EAAkC;AACtD;AACA,MAAIC,IAAI,GAAG,CAAC,KAAKlB,SAAL,CAAegB,KAAf,CAAD,CAAX;;AACA,OAAK,IAAIG,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACC,SAAS,CAACC,MAA1B,EAAkCF,CAAC,EAAnC,EAAuC;AACrCD,IAAAA,IAAI,CAACI,IAAL,CAAUF,SAAS,CAACD,CAAD,CAAnB;AACD;;AACD,SAAO,KAAKI,gBAAL,CAAsBR,MAAM,CAACS,KAAP,CAAa,IAAb,EAAmBN,IAAnB,CAAtB,CAAP;AACD,CAPD;;AASAnB,OAAO,CAACwB,gBAAR,GAA2B,UAAUE,KAAV,EAAiB;AAE1C,MAAIvB,CAAC,GAAGU,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAR;AAEAX,EAAAA,CAAC,CAACE,KAAF,GAAUqB,KAAK,CAACrB,KAAhB;AACAF,EAAAA,CAAC,CAACG,MAAF,GAAWoB,KAAK,CAACpB,MAAjB;AACA,MAAIC,GAAG,GAAGJ,CAAC,CAACK,UAAF,CAAa,IAAb,CAAV;AACAD,EAAAA,GAAG,CAACoB,YAAJ,CAAiBD,KAAjB,EAAwB,CAAxB,EAA2B,CAA3B;AACA,SAAOvB,CAAC,CAACyB,SAAF,EAAP;AAED,CAVD;;AAYA5B,OAAO,CAAC6B,SAAR,GAAoB,UAASC,MAAT,EAAiBD,SAAjB,EAA4B;AAC9C,MAAIE,CAAC,GAAGD,MAAM,CAACE,IAAf;;AACA,OAAK,IAAIZ,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACW,CAAC,CAACT,MAAlB,EAA0BF,CAAC,IAAE,CAA7B,EAAgC;AAC9B,QAAIa,CAAC,GAAGF,CAAC,CAACX,CAAD,CAAT;AACA,QAAIc,CAAC,GAAGH,CAAC,CAACX,CAAC,GAAC,CAAH,CAAT;AACA,QAAIe,CAAC,GAAGJ,CAAC,CAACX,CAAC,GAAC,CAAH,CAAT;AACA,QAAIgB,CAAC,GAAGL,CAAC,CAACX,CAAC,GAAC,CAAH,CAAT,CAJ8B,CAK9B;;AACA,QAAIiB,CAAC,GAAG,CAAR,CAN8B,CAO9B;;AACCA,IAAAA,CAAC,GAAI,SAAOJ,CAAP,GAAW,SAAOC,CAAlB,GAAsB,SAAOC,CAA7B,IAAkCN,SAAnC,GAAgD,GAAhD,GAAsD,CAA1D,CAR6B,CAS9B;;AAEAE,IAAAA,CAAC,CAACX,CAAD,CAAD,GAAOW,CAAC,CAACX,CAAC,GAAC,CAAH,CAAD,GAASW,CAAC,CAACX,CAAC,GAAC,CAAH,CAAD,GAASiB,CAAzB;AACD;;AACD,SAAOP,MAAP;AACD,CAhBD;;AAmBA9B,OAAO,CAACsC,OAAR,GAAkB,UAASR,MAAT,EAAiBS,GAAjB,EAAsBC,IAAtB,EAA4B;AAC5C,MAAIC,GAAG,GAAG,GAAV;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAJ,CAAYL,GAAG,CAAC,CAAD,CAAf,EAAoBC,IAAI,CAAC,CAAD,CAAxB,CAAZ;AACA,MAAIT,CAAC,GAAGD,MAAM,CAACE,IAAf;;AACA,OAAK,IAAIZ,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACW,CAAC,CAACT,MAAlB,EAA0BF,CAAC,IAAE,CAA7B,EAAgC;AAC9B,QAAIa,CAAC,GAAGF,CAAC,CAACX,CAAD,CAAT;AACA,QAAIc,CAAC,GAAGH,CAAC,CAACX,CAAC,GAAC,CAAH,CAAT;AACA,QAAIe,CAAC,GAAGJ,CAAC,CAACX,CAAC,GAAC,CAAH,CAAT;AACA,QAAIgB,CAAC,GAAGL,CAAC,CAACX,CAAC,GAAC,CAAH,CAAT;AACA,QAAIiB,CAAC,GAAG,GAAR;;AAEA,QAAGJ,CAAC,CAACW,OAAF,CAAUL,GAAG,CAAC,CAAD,CAAb,EAAkBC,IAAI,CAAC,CAAD,CAAtB,KAA8BN,CAAC,CAACU,OAAF,CAAUL,GAAG,CAAC,CAAD,CAAb,EAAkBC,IAAI,CAAC,CAAD,CAAtB,CAA9B,IAA4DL,CAAC,CAACS,OAAF,CAAUL,GAAG,CAAC,CAAD,CAAb,EAAkBC,IAAI,CAAC,CAAD,CAAtB,CAA5D,IAA0FJ,CAAC,IAAI,GAAlG,EAAuG;AACrGC,MAAAA,CAAC,GAAG,CAAJ;AACD;;AACDN,IAAAA,CAAC,CAACX,CAAD,CAAD,GAAOW,CAAC,CAACX,CAAC,GAAC,CAAH,CAAD,GAASW,CAAC,CAACX,CAAC,GAAC,CAAH,CAAD,GAASiB,CAAzB;AAED;;AAED,SAAOP,MAAP;AACD,CAnBD;;AAsBA9B,OAAO,CAAC6C,SAAR,GAAoB,UAASf,MAAT,EAAiBX,IAAjB,EAAuB;AACzC,MAAIY,CAAC,GAAGD,MAAM,CAACE,IAAf;;AACA,OAAK,IAAIZ,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACW,CAAC,CAACT,MAAlB,EAA0BF,CAAC,IAAE,CAA7B,EAAgC;AAC9B,QAAIa,CAAC,GAAGF,CAAC,CAACX,CAAD,CAAT;AACA,QAAIc,CAAC,GAAGH,CAAC,CAACX,CAAC,GAAC,CAAH,CAAT;AACA,QAAIe,CAAC,GAAGJ,CAAC,CAACX,CAAC,GAAC,CAAH,CAAT,CAH8B,CAK9B;AACA;;AACA,QAAIiB,CAAC,GAAG,SAAOJ,CAAP,GAAW,SAAOC,CAAlB,GAAsB,SAAOC,CAArC;AACAJ,IAAAA,CAAC,CAACX,CAAD,CAAD,GAAOW,CAAC,CAACX,CAAC,GAAC,CAAH,CAAD,GAASW,CAAC,CAACX,CAAC,GAAC,CAAH,CAAD,GAASiB,CAAzB;AACD;;AACD,SAAOP,MAAP;AACD,CAbD;;AAeA9B,OAAO,CAAC8C,UAAR,GAAqB,UAAShB,MAAT,EAAiBiB,UAAjB,EAA6B;AAChD,MAAIhB,CAAC,GAAGD,MAAM,CAACE,IAAf;;AACA,OAAK,IAAIZ,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACW,CAAC,CAACT,MAAlB,EAA0BF,CAAC,IAAE,CAA7B,EAAgC;AAC9BW,IAAAA,CAAC,CAACX,CAAD,CAAD,IAAQ2B,UAAR;AACAhB,IAAAA,CAAC,CAACX,CAAC,GAAC,CAAH,CAAD,IAAU2B,UAAV;AACAhB,IAAAA,CAAC,CAACX,CAAC,GAAC,CAAH,CAAD,IAAU2B,UAAV;AACD;;AACD,SAAOjB,MAAP;AACD,CARD;;AAWA9B,OAAO,CAACgD,QAAR,GAAmB,UAASlB,MAAT,EAAiBkB,QAAjB,EAA2B;AAC5C,MAAIjB,CAAC,GAAGD,MAAM,CAACE,IAAf;AACEgB,EAAAA,QAAQ,GAAIA,QAAQ,GAAC,GAAV,GAAiB,CAA5B,CAF0C,CAEV;;AAChC,MAAIC,SAAS,GAAG,OAAO,IAAID,QAAX,CAAhB;;AACA,OAAI,IAAI5B,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACW,CAAC,CAACT,MAAhB,EAAuBF,CAAC,IAAE,CAA1B,EAA4B;AAAI;AAC5BW,IAAAA,CAAC,CAACX,CAAD,CAAD,GAAOW,CAAC,CAACX,CAAD,CAAD,GAAK4B,QAAL,GAAgBC,SAAvB;AACAlB,IAAAA,CAAC,CAACX,CAAC,GAAC,CAAH,CAAD,GAASW,CAAC,CAACX,CAAC,GAAC,CAAH,CAAD,GAAO4B,QAAP,GAAkBC,SAA3B;AACAlB,IAAAA,CAAC,CAACX,CAAC,GAAC,CAAH,CAAD,GAASW,CAAC,CAACX,CAAC,GAAC,CAAH,CAAD,GAAO4B,QAAP,GAAkBC,SAA3B;AAEJ;;AACD,SAAOnB,MAAP;AACF,CAXD;;AAcA9B,OAAO,CAACkD,eAAR,GAA0B,UAAUpB,MAAV,EAAkB;AAE1C,MAAIC,CAAC,GAAGD,MAAM,CAACE,IAAf;AACA,MAAI7B,CAAC,GAAG,CAAR;;AAGA,OAAK,IAAIiB,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACW,CAAC,CAACT,MAAlB,EAA0BF,CAAC,IAAE,CAA7B,EAAgC;AAC9B,QAAIa,CAAC,GAAGF,CAAC,CAACX,CAAD,CAAT;AACA,QAAIc,CAAC,GAAGH,CAAC,CAACX,CAAC,GAAC,CAAH,CAAT;AACA,QAAIe,CAAC,GAAGJ,CAAC,CAACX,CAAC,GAAC,CAAH,CAAT;;AAEA,QAAGa,CAAC,IAAI,GAAL,IAAYC,CAAC,IAAI,GAAjB,IAAwBC,CAAC,IAAI,GAAhC,EAAqC;AACnChC,MAAAA,CAAC;AAEF;AAEF;;AAEC,MAAIgD,EAAE,GAAKhD,CAAC,GAAC,CAAH,GAAM4B,CAAC,CAACT,MAAT,GAAiB,GAA1B;AACF,SAAO6B,EAAP;AAED,CArBD;;AAwBAnD,OAAO,CAACoD,eAAR,GAA0B,UAAUtB,MAAV,EAAkB;AAE1C,MAAIC,CAAC,GAAGD,MAAM,CAACE,IAAf;AACA,MAAI7B,CAAC,GAAG,CAAR;;AACA,OAAK,IAAIiB,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACW,CAAC,CAACT,MAAlB,EAA0BF,CAAC,IAAE,CAA7B,EAAgC;AAC9B,QAAIa,CAAC,GAAGF,CAAC,CAACX,CAAD,CAAT;AACA,QAAIc,CAAC,GAAGH,CAAC,CAACX,CAAC,GAAC,CAAH,CAAT;AACA,QAAIe,CAAC,GAAGJ,CAAC,CAACX,CAAC,GAAC,CAAH,CAAT;;AAEA,QAAGa,CAAC,GAAG,EAAJ,IAAUC,CAAC,GAAG,EAAd,IAAoBC,CAAC,GAAG,EAA3B,EAA+B;AAC7BhC,MAAAA,CAAC;AAEF;AAEF;;AAED,MAAIgD,EAAE,GAAKhD,CAAC,GAAC,CAAH,GAAM4B,CAAC,CAACT,MAAT,GAAiB,GAA1B;AAEA,SAAO6B,EAAP;AACD,CAnBD;;AAqBAnD,OAAO,CAACqD,aAAR,GAAwB,UAASpC,KAAT,EAAgB;AAEtC,MAAIqC,kBAAkB,GAAGtD,OAAO,CAACC,SAAR,CAAkBgB,KAAlB,CAAzB;AACA,MAAI4B,SAAS,GAAG7C,OAAO,CAAC6C,SAAR,CAAkBS,kBAAlB,CAAhB,CAHsC,CAIxC;AACA;AACA;;AACA,MAAIC,QAAQ,GAAGvD,OAAO,CAACwD,SAAR,CAAkBX,SAAlB,EACb,CAAE,CAAC,CAAH,EAAM,CAAN,EAAS,CAAT,EACA,CAAC,CADD,EACI,CADJ,EACO,CADP,EAEA,CAAC,CAFD,EAEI,CAFJ,EAEO,CAFP,CADa,CAAf;AAIA,MAAIY,UAAU,GAAGzD,OAAO,CAACwD,SAAR,CAAkBX,SAAlB,EACf,CAAE,CAAC,CAAH,EAAM,CAAC,CAAP,EAAU,CAAC,CAAX,EACA,CADA,EACI,CADJ,EACQ,CADR,EAEA,CAFA,EAEI,CAFJ,EAEQ,CAFR,CADe,CAAjB;AAIA,MAAIa,WAAW,GAAG1D,OAAO,CAAC2D,eAAR,CAAwBJ,QAAQ,CAAClD,KAAjC,EAAwCkD,QAAQ,CAACjD,MAAjD,CAAlB;;AACA,OAAK,IAAIc,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACsC,WAAW,CAAC1B,IAAZ,CAAiBV,MAAjC,EAAyCF,CAAC,IAAE,CAA5C,EAA+C;AAC7C;AACA,QAAIiB,CAAC,GAAGuB,IAAI,CAACC,GAAL,CAASN,QAAQ,CAACvB,IAAT,CAAcZ,CAAd,CAAT,CAAR;AACAsC,IAAAA,WAAW,CAAC1B,IAAZ,CAAiBZ,CAAjB,IAAsBiB,CAAtB,CAH6C,CAI7C;;AACA,QAAIzB,CAAC,GAAGgD,IAAI,CAACC,GAAL,CAASJ,UAAU,CAACzB,IAAX,CAAgBZ,CAAhB,CAAT,CAAR;AACAsC,IAAAA,WAAW,CAAC1B,IAAZ,CAAiBZ,CAAC,GAAC,CAAnB,IAAwBR,CAAxB,CAN6C,CAO7C;;AACA8C,IAAAA,WAAW,CAAC1B,IAAZ,CAAiBZ,CAAC,GAAC,CAAnB,IAAwB,CAACiB,CAAC,GAACzB,CAAH,IAAM,CAA9B;AACA8C,IAAAA,WAAW,CAAC1B,IAAZ,CAAiBZ,CAAC,GAAC,CAAnB,IAAwB,GAAxB,CAT6C,CAShB;AAC9B;;AACD,MAAIsC,WAAW,GAAG,KAAKpB,OAAL,CAAaoB,WAAb,EAA0B,CAAC,CAAC,CAAF,EAAI,CAAC,CAAL,EAAO,CAAC,CAAR,CAA1B,EAAsC,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,CAAtC,CAAlB;AACA,SAAO,KAAKlC,gBAAL,CAAsBkC,WAAtB,CAAP;AACC,CA7BD;;AAkCA1D,OAAO,CAAC8D,OAAR,GAAkB,UAAS7C,KAAT,EAAgB;AAEhC,MAAI8C,SAAS,GAAG/D,OAAO,CAACC,SAAR,CAAkBgB,KAAlB,CAAhB,CAFgC,CAGhC;AACF;AACA;AACA;;AAGA,MAAIyC,WAAW,GAAG,KAAKpB,OAAL,CAAaoB,WAAb,EAA0B,CAAC,CAAC,CAAF,EAAI,CAAC,CAAL,EAAO,CAAC,CAAR,CAA1B,EAAsC,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,CAAtC,CAAlB;AACA,SAAO,KAAKlC,gBAAL,CAAsBkC,WAAtB,CAAP;AACC,CAXD;;AAcA1D,OAAO,CAACgE,SAAR,GAAoBnD,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAApB;AACAd,OAAO,CAACiE,MAAR,GAAiBjE,OAAO,CAACgE,SAAR,CAAkBxD,UAAlB,CAA6B,IAA7B,CAAjB;;AAEAR,OAAO,CAAC2D,eAAR,GAA0B,UAAShD,CAAT,EAAWC,CAAX,EAAc;AACtC,SAAO,KAAKqD,MAAL,CAAYN,eAAZ,CAA4BhD,CAA5B,EAA8BC,CAA9B,CAAP;AACD,CAFD;;AAMAZ,OAAO,CAACwD,SAAR,GAAoB,UAAS1B,MAAT,EAAiBoC,OAAjB,EAA0BC,MAA1B,EAAkC;AACpD,MAAIC,IAAI,GAAGR,IAAI,CAACS,KAAL,CAAWT,IAAI,CAACU,IAAL,CAAUJ,OAAO,CAAC5C,MAAlB,CAAX,CAAX;AACA,MAAIiD,QAAQ,GAAGX,IAAI,CAACY,KAAL,CAAWJ,IAAI,GAAC,CAAhB,CAAf;AACA,MAAIK,GAAG,GAAG3C,MAAM,CAACE,IAAjB;AACA,MAAI0C,EAAE,GAAG5C,MAAM,CAACzB,KAAhB;AACA,MAAIsE,EAAE,GAAG7C,MAAM,CAACxB,MAAhB,CALoD,CAMpD;;AACA,MAAIK,CAAC,GAAG+D,EAAR;AACA,MAAI9D,CAAC,GAAG+D,EAAR;AAEA,MAAIC,MAAM,GAAG5E,OAAO,CAAC2D,eAAR,CAAwBhD,CAAxB,EAA2BC,CAA3B,CAAb;AACA,MAAIiE,GAAG,GAAGD,MAAM,CAAC5C,IAAjB,CAXoD,CAYpD;;AACA,MAAI8C,QAAQ,GAAGX,MAAM,GAAG,CAAH,GAAO,CAA5B;;AACA,OAAK,IAAIY,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACnE,CAAhB,EAAmBmE,CAAC,EAApB,EAAwB;AACtB,SAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACrE,CAAhB,EAAmBqE,CAAC,EAApB,EAAwB;AACtB,UAAIC,EAAE,GAAGF,CAAT;AACA,UAAIG,EAAE,GAAGF,CAAT;AACA,UAAIG,MAAM,GAAG,CAACJ,CAAC,GAACpE,CAAF,GAAIqE,CAAL,IAAQ,CAArB,CAHsB,CAItB;AACA;;AACA,UAAI/C,CAAC,GAAC,CAAN;AAAA,UAASC,CAAC,GAAC,CAAX;AAAA,UAAcC,CAAC,GAAC,CAAhB;AAAA,UAAmBC,CAAC,GAAC,CAArB;;AACA,WAAK,IAAIgD,EAAE,GAAC,CAAZ,EAAeA,EAAE,GAAChB,IAAlB,EAAwBgB,EAAE,EAA1B,EAA8B;AAC5B,aAAK,IAAIC,EAAE,GAAC,CAAZ,EAAeA,EAAE,GAACjB,IAAlB,EAAwBiB,EAAE,EAA1B,EAA8B;AAC5B,cAAIC,GAAG,GAAGL,EAAE,GAAGG,EAAL,GAAUb,QAApB;AACA,cAAIgB,GAAG,GAAGL,EAAE,GAAGG,EAAL,GAAUd,QAApB;;AACA,cAAIe,GAAG,IAAI,CAAP,IAAYA,GAAG,GAAGX,EAAlB,IAAwBY,GAAG,IAAI,CAA/B,IAAoCA,GAAG,GAAGb,EAA9C,EAAkD;AAChD,gBAAIc,MAAM,GAAG,CAACF,GAAG,GAACZ,EAAJ,GAAOa,GAAR,IAAa,CAA1B;AACA,gBAAIE,EAAE,GAAGvB,OAAO,CAACkB,EAAE,GAAChB,IAAH,GAAQiB,EAAT,CAAhB;AACApD,YAAAA,CAAC,IAAIwC,GAAG,CAACe,MAAD,CAAH,GAAcC,EAAnB;AACAvD,YAAAA,CAAC,IAAIuC,GAAG,CAACe,MAAM,GAAC,CAAR,CAAH,GAAgBC,EAArB;AACAtD,YAAAA,CAAC,IAAIsC,GAAG,CAACe,MAAM,GAAC,CAAR,CAAH,GAAgBC,EAArB;AACArD,YAAAA,CAAC,IAAIqC,GAAG,CAACe,MAAM,GAAC,CAAR,CAAH,GAAgBC,EAArB;AACD;AACF;AACF;;AACDZ,MAAAA,GAAG,CAACM,MAAD,CAAH,GAAclD,CAAd;AACA4C,MAAAA,GAAG,CAACM,MAAM,GAAC,CAAR,CAAH,GAAgBjD,CAAhB;AACA2C,MAAAA,GAAG,CAACM,MAAM,GAAC,CAAR,CAAH,GAAgBhD,CAAhB;AACA0C,MAAAA,GAAG,CAACM,MAAM,GAAC,CAAR,CAAH,GAAgB/C,CAAC,GAAG0C,QAAQ,IAAE,MAAI1C,CAAN,CAA5B;AACD;AACF;;AACD,SAAOwC,MAAP;AACD,CA3CD;;AA8CAc,MAAM,CAACC,SAAP,CAAiB/C,OAAjB,GAA4B,UAAUR,CAAV,EAAaD,CAAb,EAAgB;AAC1C,MAAIyD,GAAG,GAAGhC,IAAI,CAACgC,GAAL,CAASnE,KAAT,CAAemC,IAAf,EAAqB,CAACxB,CAAD,EAAGD,CAAH,CAArB,CAAV;AAAA,MACA0D,GAAG,GAAGjC,IAAI,CAACiC,GAAL,CAASpE,KAAT,CAAemC,IAAf,EAAqB,CAACxB,CAAD,EAAGD,CAAH,CAArB,CADN;AAEA,SAAO,OAAOyD,GAAP,IAAc,OAAOC,GAA5B;AACD,CAJD;;AAMA,eAAe7F,OAAf","sourcesContent":["//These are a set of custom filters written for chess pice recognition purpose  \n//- Though the names are generic - code inside filters has been modified to fit specific need\n\nvar Filters = {};\n\nFilters.getPixels = function(img) {\n  var c = this.getCanvas(img.width, img.height);\n  var ctx = c.getContext('2d');\n  ctx.drawImage(img,0,0);\n  return ctx.getImageData(0,0,c.width,c.height);\n};\n\nFilters.getCanvas = function(w,h) {\n  var c = document.createElement('canvas');\n  c.width = w;\n  c.height = h;\n  return c;\n};\n\n\nFilters.filterImage = function(filter, image, var_args) {\n  // console.log(image);\n  var args = [this.getPixels(image)];\n  for (var i=2; i<arguments.length; i++) {\n    args.push(arguments[i]);\n  }\n  return this.imageDataToImage(filter.apply(null, args));\n};\n\nFilters.imageDataToImage = function (idata) {\n\n  var c = document.createElement(\"CANVAS\");\n\n  c.width = idata.width;\n  c.height = idata.height;\n  var ctx = c.getContext('2d');\n  ctx.putImageData(idata, 0, 0);\n  return c.toDataURL();\n\n}\n\nFilters.threshold = function(pixels, threshold) {\n  var d = pixels.data;\n  for (var i=0; i<d.length; i+=4) {\n    var r = d[i];\n    var g = d[i+1];\n    var b = d[i+2];\n    var a = d[i+3];\n    // console.log(a);\n    var v = 0;\n    // if(a > 240) { //This is custom condition introduced to remove noise \n     v = (0.2126*r + 0.7152*g + 0.0722*b >= threshold) ? 255 : 0;  \n    // }\n    \n    d[i] = d[i+1] = d[i+2] = v\n  }\n  return pixels;\n};\n\n\nFilters.inRange = function(pixels, low, high) {\n  var tep = 100;\n  console.log(tep.between(low[1], high[1]));\n  var d = pixels.data;\n  for (var i=0; i<d.length; i+=4) {\n    var r = d[i];\n    var g = d[i+1];\n    var b = d[i+2];\n    var a = d[i+3];\n    var v = 255;\n\n    if(r.between(low[0], high[0]) && g.between(low[1], high[1]) && b.between(low[2], high[2]) && a == 255) {\n      v = 0;\n    } \n    d[i] = d[i+1] = d[i+2] = v\n\n  }\n  \n  return pixels;\n};\n\n\nFilters.grayscale = function(pixels, args) {\n  var d = pixels.data;\n  for (var i=0; i<d.length; i+=4) {\n    var r = d[i];\n    var g = d[i+1];\n    var b = d[i+2];\n\n    // CIE luminance for the RGB\n    // The human eye is bad at seeing red and blue, so we de-emphasize them.\n    var v = 0.2126*r + 0.7152*g + 0.0722*b;\n    d[i] = d[i+1] = d[i+2] = v\n  }\n  return pixels;\n};\n\nFilters.brightness = function(pixels, adjustment) {\n  var d = pixels.data;\n  for (var i=0; i<d.length; i+=4) {\n    d[i] += adjustment;\n    d[i+1] += adjustment;\n    d[i+2] += adjustment;\n  }\n  return pixels;\n};\n\n\nFilters.contrast = function(pixels, contrast) {\n  var d = pixels.data;\n    contrast = (contrast/100) + 1;  //convert to decimal & shift range: [0..2]\n    var intercept = 128 * (1 - contrast);\n    for(var i=0;i<d.length;i+=4){   //r,g,b,a\n        d[i] = d[i]*contrast + intercept;\n        d[i+1] = d[i+1]*contrast + intercept;\n        d[i+2] = d[i+2]*contrast + intercept;\n   \n   }\n   return pixels;\n}\n\n\nFilters.whitePercentage = function (pixels) {\n\n  var d = pixels.data;\n  var c = 0;\n\n\n  for (var i=0; i<d.length; i+=4) {\n    var r = d[i];\n    var g = d[i+1];\n    var b = d[i+2];\n\n    if(r == 255 && g == 255 && b == 255) {\n      c++;\n\n    }\n\n  }\n\n    var cP = ((c*4)/d.length)*100;\n  return cP;\n\n}\n\n\nFilters.blackPercentage = function (pixels) {\n\n  var d = pixels.data;\n  var c = 0;\n  for (var i=0; i<d.length; i+=4) {\n    var r = d[i];\n    var g = d[i+1];\n    var b = d[i+2];\n\n    if(r < 10 && g < 10 && b < 10) {\n      c++;\n     \n    }\n\n  }\n\n  var cP = ((c*4)/d.length)*100;\n\n  return cP;\n}\n\nFilters.edgeDetection = function(image) {\n\n  var grayscalePixelData = Filters.getPixels(image);\n  var grayscale = Filters.grayscale(grayscalePixelData);\n// Note that ImageData values are clamped between 0 and 255, so we need\n// to use a Float32Array for the gradient values because they\n// range between -255 and 255.\nvar vertical = Filters.convolute(grayscale,\n  [ -1, 0, 1,\n  -2, 0, 2,\n  -1, 0, 1 ]);\nvar horizontal = Filters.convolute(grayscale,\n  [ -1, -2, -1,\n  0,  0,  0,\n  1,  2,  1 ]);\nvar final_image = Filters.createImageData(vertical.width, vertical.height);\nfor (var i=0; i<final_image.data.length; i+=4) {\n  // make the vertical gradient red\n  var v = Math.abs(vertical.data[i]);\n  final_image.data[i] = v;\n  // make the horizontal gradient green\n  var h = Math.abs(horizontal.data[i]);\n  final_image.data[i+1] = h;\n  // and mix in some blue for aesthetics\n  final_image.data[i+2] = (v+h)/4;\n  final_image.data[i+3] = 255; // opaque alpha\n}\nvar final_image = this.inRange(final_image, [-1,-1,-1], [50,50,50]);\nreturn this.imageDataToImage(final_image);\n}\n\n\n\n\nFilters.sharpen = function(image) {\n \n  var pixelData = Filters.getPixels(image);\n  // var grayscale = Filters.grayscale(grayscalePixelData);\n// Note that ImageData values are clamped between 0 and 255, so we need\n// to use a Float32Array for the gradient values because they\n// range between -255 and 255.\n\n\nvar final_image = this.inRange(final_image, [-1,-1,-1], [50,50,50]);\nreturn this.imageDataToImage(final_image);\n}\n\n\nFilters.tmpCanvas = document.createElement('canvas');\nFilters.tmpCtx = Filters.tmpCanvas.getContext('2d');\n\nFilters.createImageData = function(w,h) {\n  return this.tmpCtx.createImageData(w,h);\n};\n\n\n\nFilters.convolute = function(pixels, weights, opaque) {\n  var side = Math.round(Math.sqrt(weights.length));\n  var halfSide = Math.floor(side/2);\n  var src = pixels.data;\n  var sw = pixels.width;\n  var sh = pixels.height;\n  // pad output by the convolution matrix\n  var w = sw;\n  var h = sh;\n\n  var output = Filters.createImageData(w, h);\n  var dst = output.data;\n  // go through the destination image pixels\n  var alphaFac = opaque ? 1 : 0;\n  for (var y=0; y<h; y++) {\n    for (var x=0; x<w; x++) {\n      var sy = y;\n      var sx = x;\n      var dstOff = (y*w+x)*4;\n      // calculate the weighed sum of the source image pixels that\n      // fall under the convolution matrix\n      var r=0, g=0, b=0, a=0;\n      for (var cy=0; cy<side; cy++) {\n        for (var cx=0; cx<side; cx++) {\n          var scy = sy + cy - halfSide;\n          var scx = sx + cx - halfSide;\n          if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n            var srcOff = (scy*sw+scx)*4;\n            var wt = weights[cy*side+cx];\n            r += src[srcOff] * wt;\n            g += src[srcOff+1] * wt;\n            b += src[srcOff+2] * wt;\n            a += src[srcOff+3] * wt;\n          }\n        }\n      }\n      dst[dstOff] = r;\n      dst[dstOff+1] = g;\n      dst[dstOff+2] = b;\n      dst[dstOff+3] = a + alphaFac*(255-a);\n    }\n  }\n  return output;\n};\n\n\nNumber.prototype.between  = function (a, b) {\n  var min = Math.min.apply(Math, [a,b]),\n  max = Math.max.apply(Math, [a,b]);\n  return this > min && this < max;\n};\n\nexport default Filters;"]}]}